
<aside class="side-bar">
    <div class="side-content header">
        <figure>
            <img src="/images/main_logo.jpg" alt="이미지 들어가는 공간">
        </figure>
        <span>여어떻노</span>
    </div>
    {{#sessionUser}}
    <div class="side-content info">
        <p>관리자 : {{name}}</p>
        <p>접속일시: {{#sessionUser}}{{loginTime}}{{/sessionUser}}</p>
        <a href="/logout">로그아웃</a>
    </div>
    {{/sessionUser}}
    <div class="side-menu">
        <p class="head-menu"><i class="fa-solid fa-building"></i></i>기업</p>
        <ul class="sub">
            <li><a href="/admin/companies">가입현황</a></li>
            <li><a href="/customer-c/report">리뷰신고</a></li>
            <li><a href="/admin/company/question">문의사항</a></li>
            <li><a href="/customer-c/faq">자주묻는 질문</a></li>
        </ul>
    </div>
    <div class="side-menu">
        <p class="head-menu"><i class="fa-solid fa-user"></i>유저</p>
        <ul class="sub">
            <li><a href="/admin/users">가입현황</a></li>
            <li><a href="/admin/join">리뷰신고</a></li>
            <li><a href="/customer-u/question">문의사항</a></li>
            <li><a href="/customer-u/faq">자주묻는 질문</a></li>
        </ul>
    </div>
</aside>
<script>
    $(function () {
        const currentURL = window.location.pathname; // 현재 페이지의 URL을 가져옵니다.
        const sidemenu = $(".side-menu .head-menu");
        const sidemenuURL = $(".side-menu .sub a");

        console.log(currentURL);

        // 페이지 로딩될 때 해당 페이지에 대응하는 사이드 메뉴를 활성화합니다.
        sidemenuURL.each(function () {
            const menuURL = $(this).attr('href');

            if (currentURL === menuURL) {
                $(this).closest('.side-menu').find('.head-menu').addClass('active');
                $(this).closest('.side-menu').find('.sub').addClass('active');
                $(this).parent().addClass('on');
            }
        });

        // 사이드 메뉴 클릭 시 동작하는 함수입니다.
        sidemenu.click(function () {
            sidemenu.removeClass('active');
            $(this).addClass('active');
            $(this).parent().siblings().find('.sub').removeClass('active');
            $(this).parent().find('.sub').toggleClass('active');
        });
    });
</script>